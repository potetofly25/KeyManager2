<!-- 資格情報編集用ダイアログウィンドウの定義 -->
<Window xmlns="https://github.com/avaloniaui" 
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:potetofly25.KeyManager2.ViewModels"
        x:Class="potetofly25.KeyManager2.Views.EditCredentialWindow" 
        x:DataType="vm:EditCredentialViewModel"
        Title="Edit" Width="560" Height="420" 
        WindowStartupLocation="CenterOwner">

  <!-- 全体レイアウトのルート StackPanel -->
  <StackPanel Margin="16" Spacing="8">

    <!-- Login ID 入力欄 -->
    <TextBlock Text="Login ID" FontWeight="Bold"/>
    <TextBox Text="{Binding Credential.LoginId, Mode=TwoWay}"/>

    <!-- パスワード入力と自動生成ボタン -->
    <StackPanel Orientation="Horizontal" Spacing="8">
      <TextBlock Text="Password" Width="80" VerticalAlignment="Center"/>
      <!-- パスワードの直接入力 -->
      <TextBox Text="{Binding Credential.Password, Mode=TwoWay}" Width="320"/>
      <!-- パスワード自動生成コマンドを呼び出すボタン -->
      <Button Content="Generate" Command="{Binding GeneratePasswordCommand}" Width="90"/>
    </StackPanel>

    <!-- 説明入力欄 -->
    <TextBlock Text="Description" FontWeight="Bold"/>
    <TextBox Text="{Binding Credential.Description, Mode=TwoWay}" AcceptsReturn="True" Height="80"/>

    <!-- Category と Tags 入力欄（横に並べて配置） -->
    <StackPanel Orientation="Horizontal" Spacing="8">
      <!-- Category 入力 -->
      <StackPanel>
        <TextBlock Text="Category" FontWeight="Bold"/>
        <TextBox Text="{Binding Credential.Category, Mode=TwoWay}" Width="200"/>
      </StackPanel>
      <!-- Tags 入力（カンマ区切り） -->
      <StackPanel>
        <TextBlock Text="Tags (comma separated)" FontWeight="Bold"/>
        <TextBox Name="TagInput" Text="{Binding Credential.Tags, Mode=TwoWay}" Width="300"/>
      </StackPanel>
    </StackPanel>

    <!-- パスワード自動生成のオプション設定（長さ・文字種） -->
    <Border BorderThickness="1" CornerRadius="6" Padding="8" Margin="0,6,0,0">
      <StackPanel>
        <TextBlock Text="Password options" FontWeight="SemiBold"/>
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,6,0,0">
          <!-- パスワード長の設定 -->
          <TextBlock Text="Length" VerticalAlignment="Center"/>
          <NumericUpDown Minimum="4" Maximum="64" Value="{Binding Length, Mode=TwoWay}" Width="80"/>
          <!-- 使用する文字種のチェックボックス -->
          <CheckBox Content="Upper" IsChecked="{Binding UseUpper}"/>
          <CheckBox Content="Lower" IsChecked="{Binding UseLower}"/>
          <CheckBox Content="Digits" IsChecked="{Binding UseDigits}"/>
          <CheckBox Content="Symbols" IsChecked="{Binding UseSymbols}"/>
        </StackPanel>
      </StackPanel>
    </Border>

    <!-- ダイアログの操作ボタン（保存／キャンセル） -->
    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8">
      <!-- Save：true を返してウィンドウを閉じる -->
      <Button Content="Save" 
              Command="{Binding SaveCommand}" 
              CommandParameter="{Binding $parent[Window]}"
              Width="100"/>
      <!-- Cancel：false を返してウィンドウを閉じる -->
      <Button Content="Cancel" 
              Command="{Binding CancelCommand}" 
              CommandParameter="{Binding $parent[Window]}"
              Width="100"/>
    </StackPanel>
  </StackPanel>
</Window>
